#!/bin/zsh
# Generated zshrc for {{ .machine_type }}
# Performance optimized for high-end hardware

# History configuration
HISTSIZE={{ .shell_optimization.history_size }}
SAVEHIST=$HISTSIZE

{{- if .capabilities.heavy_development }}
# Heavy development tools
export JAVA_OPTS="-Xmx{{ .performance.java_heap }}"
export NODE_OPTIONS="--max-old-space-size={{ .performance.node_max_memory }}"

# Android Studio
export ANDROID_HOME="$HOME/Library/Android/sdk"
export PATH="$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools"
{{- end }}

{{- if eq .shell_optimization.plugin_loading "parallel" }}
# Parallel plugin loading for high performance
zinit ice wait'0' lucid atinit"zicompinit; zicdreplay"
{{- else }}
# Lazy plugin loading for resource conservation
zinit wait lucid light-mode for zdharma-continuum/fast-syntax-highlighting
{{- end }}

# chezmoi-sync integration test marker
export CHEZMOI_SYNC_TEST=true
export TEST_MACHINE_TYPE="{{ .machine_type }}"

# Sync configuration
export CHEZMOI_SYNC_PUSH_THROTTLE={{ .sync_settings.push_throttle }}
export CHEZMOI_SYNC_PULL_INTERVAL={{ .sync_settings.pull_interval }}
export CHEZMOI_SYNC_MAX_BACKUPS={{ .sync_settings.max_backups }}